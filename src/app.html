<html>

<head>
    <title>南山婆辣椒线上展馆</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <link type="text/css" rel="stylesheet" href="./css/App.css">
    <link type="text/css" rel="stylesheet" href="./css/SteeringWheel.css">

</head> 

<body>

    <video id="video" onloadeddata="this.play();" defaultMuted playsinline muted loop autoplay="autoplay">
        <source type="video/mp4" src="./asset/video/wlc.mp4">
    </video>

    <div id="ui">
        <div id="pogress-out">
            <div id="progres-fill"></div>
        </div>
        <div id="progress-text"></div>
    </div>


    <div id="steering-wheel">
        <div id="steering-wheel-dot"></div>
    </div>


    <canvas id="canvas" tabindex="1"></canvas>
    <script src="./app.js"></script>

    <!--
    <script>

        const sw = document.querySelector("#steering-wheel");
        const swd = document.querySelector("#steering-wheel-dot");

        swd.addEventListener('touchmove', onTouchMove, false);
        swd.addEventListener('touchend', onTouchEnd,false);

        const swRect = sw.getBoundingClientRect();
        const swdRect = swd.getBoundingClientRect();

        const halfWidth = swdRect.width / 2;
        const halfHeight = swdRect.height / 2;

        const miniLeft = 0;
        const maxLeft = swRect.width - swdRect.width;
        const miniTop = 0;
        const maxTop = swRect.height - swdRect.height;

        let originOffsetTop = swd.offsetTop;
        let originOffsetLeft = swd.offsetLeft;

        function onTouchMove(e) {
            e.preventDefault();
            e.stopPropagation();

            const touch = e.changedTouches.item(0);

            const left = touch.clientX - halfWidth -sw.offsetLeft;
            if(left > miniLeft && left < maxLeft) {
                swd.style.left = left;

                const x = (left + halfWidth) - (swRect.width / 2)
                console.log(`x:${x}`);

            }

            const top = touch.clientY - halfHeight-sw.offsetTop;
            if(top > miniTop && top < maxTop) {
                swd.style.top = top;

                const y = (top + halfHeight) - (swRect.height / 2);
                console.log(`y:${y }`);
            }
        }

        function onTouchEnd(e){
            swd.style.left = originOffsetLeft;
            swd.style.top = originOffsetTop;
        }

    </script>
    -->

</body>

</html>